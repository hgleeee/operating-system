# 물리적 메모리의 할당 방식
- 프로세스를 메모리에 올리는 방식에 따라 연속할당 방식과 불연속할당 방식으로 나눈다.
## 연속할당 방식
> 각 프로세스를 물리적 메모리의 연속적 공간에 올리는 방식
- 메모리를 분할하는 방식에 따라 고정분할 방식과 가변분할 방식으로 나눌 수 있다.
### 고정분할 방식
> 물리적 메모리를 고정된 크기의 분할로 미리 나누어두는 방식
- 물리적 메모리를 주어진 개수만큼의 영구적인 분할로 미리 나누어두고 각 분할에 하나의 프로세스를 적재
- 하나의 분할엔 하나의 프로그램만 적재가능하기 때문에 동시에 메모리에 올릴 수 있는 프로그램의 수가 고정되어 있음
- 수행 가능한 프로그램의 최대 크기도 제한되어 있음
- __외부조각(프로그램의 크기 > 분할의 크기)과 내부조각(프로그램의 크기 < 분할의 크기)이 발생___

### 가변분할 방식
> 분할을 미리 나누어놓지 않고, 프로그램이 실행되고 종료되는 순서에 따라 분할을 관리하는 방식
- 메모리에 적재되는 프로그램의 크기에 따라 분할의 크기, 개수가 동적으로 변하는 방식
- 분할의 크기를 프로그램의 크기보다 크게 할당하지 않기 때문에 내부조각 발생 x
- 이미 메모리에 존재하는 프로그램이 종료될 경우 중간에 빈 공간이 발생하게 되므로 외부조각은 발생할 수 있음

- __Q. 크기가 n인 프로세스를 메모리에 올릴 때 물리적 메모리 내 가용 공간(메모리에 산발적으로 존재하는 빈 공간) 중 어떤 위치에 올릴 것인가?__
#### 최초적합 (first-fit)
> 크기가 n 이상인 가용 공간 중 가장 먼저 찾아지는 곳에 프로세스 할당
- 가용 공간을 모두 탐색하지 않아도 되므로 시간적 측면에서 효율적
#### 최적 적합 (best- fit)
> 크기가 n 이상이면서 가장 작은 가용 공간에 프로세스 할당
- 공간적 측면에서 효율적
- 가용 공간들이 크기 순으로 정렬되어 있지 않은 경우, 모든 가용공간을 탐색해야 하므로 시간적 오버헤드 발생
- 다수의 매우 작은 가용 공간들이 생성될 수 있음
#### 최악 적합 (worst-fit)
> 가장 공간이 큰 곳에 새로운 프로그램 할당
- 최적적합과 마찬가지로 모든 가용 공간들을 탐색해야 하는 오버헤드 발생
- 상대적으로 더 큰 프로그램을 담을 수 있는 가용 공간을 빨리 소진한다는 문제점

#### 컴팩션 (Compaction)
> 가용 공간들을 한쪽으로 모아서 하나의 큰 가용 공간을 만드는 방법
- 외부조각 문제를 해결
- 현재 수행 중인 프로세스의 메모리 상 위치를 상당 부분 이동시켜야 하므로 비용이 많이 듬
- 수행 중인 프로세스의 물리적 위치를 옮기는 것이므로 실행시간 바인딩 방식이 지원되는 환경에서만 가능


## 불연속할당 방식
> 하나의 프로세스를 물리적 메모리의 여러 영역에 분산해 적재하는 방식

- 프로세스를 분할하는 방식에 따라 분류할 수 있다.
- 페이징 : 각 프로세스의 주소 공간을 동일한 크기의 페이지로 잘라 페이지 단위로 적재시키는 방식
- 세그먼테이션 : 코드, 데이터, 스택 등 의미있는 단위인 세그먼트로 나누어 세그먼트 단위로 적재시키는 방식
- 페이지드 세그먼테이션 : 세그먼트 하나를 다수의 페이지로 구성하는 방식
